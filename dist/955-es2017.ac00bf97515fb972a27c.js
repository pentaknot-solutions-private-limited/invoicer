(self.webpackChunkinvoicer=self.webpackChunkinvoicer||[]).push([[955],{84955:function(t,o,e){"use strict";e.r(o),e.d(o,{LoginModule:function(){return F}});var n=e(63337),s=e(61116),i=e(31041),a=e(35366);let r=(()=>{class t{constructor(t){this.el=t}getContainerElement(){return this.el.nativeElement}}return t.\u0275fac=function(o){return new(o||t)(a.Y36(a.SBq))},t.\u0275dir=a.lG2({type:t,selectors:[["","toastContainer",""]],exportAs:["toastContainer"]}),t})(),l=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({}),t})();var d=e(59806),p=e(33782);const g={fieldKey:"emailId",attributes:{placeholder:"Email Address",isMandatory:!0,title:"Email Address",pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,customPatternMessage:"Please enter a valid email address.",showBorder:!1}},u={fieldKey:"password",attributes:{placeholder:"Type your password",isMandatory:!0,type:"password",togglePassword:!0,title:"Password",showBorder:!1}},c={fieldKey:"firstName",attributes:{placeholder:"First Name",isMandatory:!0,title:"First Name",readonly:!0,showBorder:!1}},f={fieldKey:"lastName",attributes:{placeholder:"Last Name",isMandatory:!0,title:"Last Name",readonly:!0,showBorder:!1}},m={fieldKey:"emailId",attributes:{placeholder:"Email Address",isMandatory:!0,title:"Email Address",readonly:!0,showBorder:!1}},w={fieldKey:"tempPassword",attributes:{placeholder:"Temporary Password",isMandatory:!0,type:"password",togglePassword:!0,title:"Temporary Password",showBorder:!1}},h={fieldKey:"newPassword",attributes:{placeholder:"Type your password",isMandatory:!0,type:"password",togglePassword:!0,title:"New Password",showBorder:!1}},y={fieldKey:"confirmNewPassword",attributes:{placeholder:"Confirm your Password",isMandatory:!0,type:"password",togglePassword:!0,title:"Confirm New Password",showBorder:!1}};class P{}class C{}class I{}var N=e(41364),M=e(3925),b=e(45955);let v=(()=>{class t{constructor(t,o,e){this.loginService=t,this.router=o,this.toasty=e,this.loginForm=new i.cw({emailId:new i.NI("",i.kI.required),password:new i.NI("",i.kI.required)}),this.loginInputConfig={LoginIdInput:g,LoginPasswordInput:u},this.loginModel=new P,this.loginCredentials=[],this.loginInputConfig.LoginIdInput.attributes.disable=this.isLoading,this.loginInputConfig.LoginPasswordInput.attributes.disable=this.isLoading}ngOnInit(){(new p.P).clearAll(),this.setupToasty(),this.loginDetails()}setupToasty(){this.toasty.overlayContainer=this.toastContainer,this.toasty.toastyConfig.preventDuplicates=!0}onSubmit(){this.isLoading=!0,this.loginService.login(this.loginModel,this.loginCredentials).subscribe(t=>{t.error?(this.toasty.error(t.message),this.isLoading=!1):(this.toasty.success(t.message),this.router.navigate(["/invoices"]),this.isLoading=!1)})}loginDetails(){this.loginService.loginDetails().subscribe(t=>{this.loginCredentials=t})}}return t.\u0275fac=function(o){return new(o||t)(a.Y36(N.r),a.Y36(n.F0),a.Y36(d.$))},t.\u0275cmp=a.Xpm({type:t,selectors:[["login"]],viewQuery:function(t,o){if(1&t&&a.Gf(r,7),2&t){let t;a.iGM(t=a.CRH())&&(o.toastContainer=t.first)}},features:[a._Bn([d.$])],decls:15,vars:9,consts:[[1,"page-title"],[1,"loginForm",3,"formGroup"],["formControlName","emailId",3,"config","dataModel"],["formControlName","password",3,"config","dataModel"],[1,"more-options"],["href","javascript:void",1,"forget-password"],["size","medium",3,"type","loading","disabled","fullWidth","onClick"],["toastContainer","",1,"toasty-layer"]],template:function(t,o){1&t&&(a.ynx(0),a.TgZ(1,"div",0),a.TgZ(2,"h1"),a._uU(3,"Log In"),a.qZA(),a.TgZ(4,"p"),a._uU(5,"Welcome, input your user credentials below."),a.qZA(),a.qZA(),a.TgZ(6,"form",1),a._UZ(7,"vsa-input",2),a._UZ(8,"vsa-input",3),a.TgZ(9,"div",4),a.TgZ(10,"a",5),a._uU(11,"Forget Password?"),a.qZA(),a.qZA(),a.TgZ(12,"vsa-button",6),a.NdJ("onClick",function(){return o.onSubmit()}),a._uU(13,"Confirm "),a.qZA(),a.qZA(),a.BQk(),a._UZ(14,"div",7)),2&t&&(a.xp6(6),a.Q6J("formGroup",o.loginForm),a.xp6(1),a.Q6J("config",null==o.loginInputConfig?null:o.loginInputConfig.LoginIdInput)("dataModel",o.loginModel),a.xp6(1),a.Q6J("config",null==o.loginInputConfig?null:o.loginInputConfig.LoginPasswordInput)("dataModel",o.loginModel),a.xp6(4),a.Q6J("type","submit")("loading",o.isLoading)("disabled",o.loginForm.invalid)("fullWidth","true"))},directives:[i._Y,i.JL,i.sg,M.h,i.JJ,i.u,b.t,r],styles:['@import url("https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap");@font-face{font-family:Visa;src:url(visaFont.8b0d154f49bceec634ee.woff) format("woff")}@font-face{font-family:Visa_True;src:url(visaFont.15cde0f8f598a0f43234.ttf) format("truetype")}[_ngcontent-%COMP%]:export{conditonalGreen:#b8e0cb;conditonalRed:#fbbdb0}.page-title[_ngcontent-%COMP%]{margin-top:50px}.page-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700;font-size:28px;color:#051226;text-transform:capitalize;line-height:36px;margin-bottom:0}.page-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#394a64;margin:0;font-family:Open Sans,sans-serif}form.loginForm[_ngcontent-%COMP%]{margin-top:3em}form.loginForm[_ngcontent-%COMP%]   .more-options[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-bottom:5px}form.loginForm[_ngcontent-%COMP%]   .more-options[_ngcontent-%COMP%]   a.forget-password[_ngcontent-%COMP%]{text-decoration:none}.toasty-layer[_ngcontent-%COMP%]{position:fixed;top:10px;right:10px}@media (min-width:768px){.toasty-layer[_ngcontent-%COMP%]{width:calc(58.88% - 28px)}}']}),t})();var Z=e(68059),T=e(59488),_=e(3269);function x(t,o){if(1&t){const t=a.EpF();a.ynx(0),a.TgZ(1,"div",2),a.TgZ(2,"h1"),a._uU(3,"Confirm Temporary Password"),a.qZA(),a.TgZ(4,"p"),a._uU(5," Thank you for using the invite link! Please enter the information below. "),a.qZA(),a.qZA(),a.TgZ(6,"form",3),a.TgZ(7,"div",4),a.TgZ(8,"div",5),a._UZ(9,"vsa-input",6),a.qZA(),a.TgZ(10,"div",7),a._UZ(11,"vsa-input",8),a.qZA(),a.qZA(),a._UZ(12,"vsa-input",9),a._UZ(13,"vsa-input",10),a.TgZ(14,"vsa-button",11),a.NdJ("onClick",function(){return a.CHM(t),a.oxw().onTemporaryPasswordSubmit()}),a._uU(15,"Confirm "),a.qZA(),a.qZA(),a.BQk()}if(2&t){const t=a.oxw();a.xp6(6),a.Q6J("formGroup",t.tempPasswordForm),a.xp6(3),a.Q6J("config",null==t.loginInputConfig?null:t.loginInputConfig.FirstNameInput)("dataModel",t.cTemporaryPassword),a.xp6(2),a.Q6J("config",null==t.loginInputConfig?null:t.loginInputConfig.LastNameInput)("dataModel",t.cTemporaryPassword),a.xp6(1),a.Q6J("config",null==t.loginInputConfig?null:t.loginInputConfig.EmailIdInput)("dataModel",t.cTemporaryPassword),a.xp6(1),a.Q6J("config",null==t.loginInputConfig?null:t.loginInputConfig.TemporaryPasswordInput)("dataModel",t.cTemporaryPassword),a.xp6(1),a.Q6J("type","submit")("loading",t.isLoading)("disabled",t.tempPasswordForm.invalid)("fullWidth","true")}}function q(t,o){if(1&t){const t=a.EpF();a.ynx(0),a.TgZ(1,"div",2),a.TgZ(2,"h1"),a._uU(3,"Create New Password"),a.qZA(),a.TgZ(4,"p"),a._uU(5," Please enter your new password information below. "),a.qZA(),a.qZA(),a.TgZ(6,"form",3),a.TgZ(7,"div",4),a.TgZ(8,"div",5),a._UZ(9,"vsa-input",6),a.qZA(),a.TgZ(10,"div",7),a._UZ(11,"vsa-input",8),a.qZA(),a.qZA(),a._UZ(12,"vsa-input",9),a._UZ(13,"vsa-input",12),a._UZ(14,"vsa-input",13),a.TgZ(15,"vsa-button",11),a.NdJ("onClick",function(){return a.CHM(t),a.oxw().onSubmit()}),a._uU(16,"Confirm "),a.qZA(),a.qZA(),a.BQk()}if(2&t){const t=a.oxw();a.xp6(6),a.Q6J("formGroup",t.loginForm),a.xp6(3),a.Q6J("config",null==t.loginInputConfig?null:t.loginInputConfig.FirstNameInput)("dataModel",t.cNewPassword),a.xp6(2),a.Q6J("config",null==t.loginInputConfig?null:t.loginInputConfig.LastNameInput)("dataModel",t.cNewPassword),a.xp6(1),a.Q6J("config",null==t.loginInputConfig?null:t.loginInputConfig.EmailIdInput)("dataModel",t.cNewPassword),a.xp6(1),a.Q6J("config",null==t.loginInputConfig?null:t.loginInputConfig.NewPasswordInput)("dataModel",t.cNewPassword),a.xp6(1),a.Q6J("config",null==t.loginInputConfig?null:t.loginInputConfig.ConfirmNewPasswordInput)("dataModel",t.cNewPassword),a.xp6(1),a.Q6J("type","submit")("loading",t.isLoading)("disabled",t.loginForm.invalid)("fullWidth","true")}}let O=(()=>{class t{constructor(t,o,e,n){this.loginService=t,this.router=o,this.toasty=e,this.activatedRoute=n,this.loginForm=new i.cw({firstName:new i.NI("",i.kI.required),lastName:new i.NI("",i.kI.required),emailId:new i.NI("",i.kI.required),newPassword:new i.NI("",i.kI.required),confirmNewPassword:new i.NI("",i.kI.required)}),this.tempPasswordForm=new i.cw({firstName:new i.NI("",i.kI.required),lastName:new i.NI("",i.kI.required),emailId:new i.NI("",i.kI.required),tempPassword:new i.NI("",i.kI.required)}),this.loginInputConfig={FirstNameInput:c,LastNameInput:f,EmailIdInput:m,TemporaryPasswordInput:w,NewPasswordInput:h,ConfirmNewPasswordInput:y},this.cNewPassword=new I,this.cTemporaryPassword=new C,this.showCreatePassword=!1,this.tempPassword="Abc123",this.loginInputConfig.FirstNameInput.attributes.disable=!0,this.loginInputConfig.LastNameInput.attributes.disable=!0,this.loginInputConfig.EmailIdInput.attributes.disable=!0,this.cNewPassword.firstName=this.cTemporaryPassword.firstName=n.snapshot.queryParamMap.get("fname")||"Not Found",this.cNewPassword.lastName=this.cTemporaryPassword.lastName=n.snapshot.queryParamMap.get("lname")||"Not Found",this.cNewPassword.emailId=this.cTemporaryPassword.emailId=n.snapshot.queryParamMap.get("email")||"Not Found"}ngOnInit(){(new p.P).clearAll(),this.setupToasty()}setupToasty(){this.toasty.overlayContainer=this.toastContainer,this.toasty.toastyConfig.preventDuplicates=!0}onTemporaryPasswordSubmit(){console.log(this.cTemporaryPassword),this.isLoading=!0,setTimeout(()=>{this.cTemporaryPassword.tempPassword!=this.tempPassword?(this.loginInputConfig.TemporaryPasswordInput.attributes.errorMessage="Error! Check your password and try again.",this.isLoading=!1,this.showCreatePassword=!1):(this.loginInputConfig.TemporaryPasswordInput.attributes.errorMessage="",this.confirmTemporaryPassword(this.cTemporaryPassword),this.isLoading=!1)},1500)}onSubmit(){console.log(this.cNewPassword),this.isLoading=!0,setTimeout(()=>{this.cNewPassword.newPassword!=this.cNewPassword.confirmNewPassword?(this.loginInputConfig.ConfirmNewPasswordInput.attributes.errorMessage="Confirm Password Doesn't Match.",this.isLoading=!1):(this.loginInputConfig.ConfirmNewPasswordInput.attributes.errorMessage="",this.createNewPassword(this.cNewPassword),this.isLoading=!1)},1500)}confirmTemporaryPassword(t){this.loginService.confirmTemporaryPassword(t).subscribe(t=>{t&&(this.toasty.success(t.message),this.showCreatePassword=!0)})}createNewPassword(t){this.loginService.createNewPassword(t).subscribe(t=>{t&&(this.toasty.success(t.message),this.router.navigate(["/auth/login"]))})}}return t.\u0275fac=function(o){return new(o||t)(a.Y36(N.r),a.Y36(n.F0),a.Y36(d.$),a.Y36(n.gz))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-create-new-password"]],viewQuery:function(t,o){if(1&t&&a.Gf(r,7),2&t){let t;a.iGM(t=a.CRH())&&(o.toastContainer=t.first)}},features:[a._Bn([d.$])],decls:3,vars:2,consts:[[4,"ngIf"],["toastContainer","",1,"toasty-layer"],[1,"page-title"],[1,"loginForm",3,"formGroup"],[1,"row"],[1,"col-6","pr5"],["formControlName","firstName",3,"config","dataModel"],[1,"col-6","pl5"],["formControlName","lastName",3,"config","dataModel"],["formControlName","emailId",3,"config","dataModel"],["formControlName","tempPassword",3,"config","dataModel"],["size","medium",3,"type","loading","disabled","fullWidth","onClick"],["formControlName","newPassword",3,"config","dataModel"],["formControlName","confirmNewPassword",3,"config","dataModel"]],template:function(t,o){1&t&&(a.YNc(0,x,16,13,"ng-container",0),a.YNc(1,q,17,15,"ng-container",0),a._UZ(2,"div",1)),2&t&&(a.Q6J("ngIf",!o.showCreatePassword),a.xp6(1),a.Q6J("ngIf",o.showCreatePassword))},directives:[s.O5,r,i._Y,i.JL,i.sg,M.h,i.JJ,i.u,b.t],styles:['@import url("https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap");@font-face{font-family:Visa;src:url(visaFont.8b0d154f49bceec634ee.woff) format("woff")}@font-face{font-family:Visa_True;src:url(visaFont.15cde0f8f598a0f43234.ttf) format("truetype")}[_ngcontent-%COMP%]:export{conditonalGreen:#b8e0cb;conditonalRed:#fbbdb0}.page-title[_ngcontent-%COMP%]{margin-top:50px}.page-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700;font-size:28px;color:#051226;text-transform:capitalize;line-height:36px}.page-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#394a64;margin:0;font-family:Open Sans,sans-serif}.pr5[_ngcontent-%COMP%]{padding-right:5px!important}.pl5[_ngcontent-%COMP%]{padding-left:5px!important}form.loginForm[_ngcontent-%COMP%]{margin-top:3em}form.loginForm[_ngcontent-%COMP%]   .more-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}form.loginForm[_ngcontent-%COMP%]   .more-options[_ngcontent-%COMP%]   a.forget-password[_ngcontent-%COMP%]{text-decoration:none}.toasty-layer[_ngcontent-%COMP%]{position:fixed;top:10px;right:10px}@media (min-width:768px){.toasty-layer[_ngcontent-%COMP%]{width:calc(58.88% - 28px)}}']}),t})();var A=e(34796);let F=(()=>{class t{constructor(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[N.r],imports:[[i.u5,i.UX,s.ez,_.C,T.e,A.I,Z.V2.forRoot(),l,n.Bz.forChild([{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"login",component:v},{path:"confirm-temporary-password",redirectTo:"/auth/create-new-password",component:O},{path:"create-new-password",component:O}])]]}),t})()}}]);