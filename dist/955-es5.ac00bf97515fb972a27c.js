!function(){function t(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function o(t,o){for(var n=0;n<o.length;n++){var e=o[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function n(t,n,e){return n&&o(t.prototype,n),e&&o(t,e),t}(self.webpackChunkinvoicer=self.webpackChunkinvoicer||[]).push([[955],{84955:function(o,e,i){"use strict";i.r(e),i.d(e,{LoginModule:function(){return L}});var a=i(63337),r=i(61116),s=i(31041),l=i(35366),d=function(){var o=function(){function o(n){t(this,o),this.el=n}return n(o,[{key:"getContainerElement",value:function(){return this.el.nativeElement}}]),o}();return o.\u0275fac=function(t){return new(t||o)(l.Y36(l.SBq))},o.\u0275dir=l.lG2({type:o,selectors:[["","toastContainer",""]],exportAs:["toastContainer"]}),o}(),u=function(){var o=function o(){t(this,o)};return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=l.oAB({type:o}),o.\u0275inj=l.cJS({}),o}(),p=i(59806),g=i(33782),f={fieldKey:"emailId",attributes:{placeholder:"Email Address",isMandatory:!0,title:"Email Address",pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,customPatternMessage:"Please enter a valid email address.",showBorder:!1}},c={fieldKey:"password",attributes:{placeholder:"Type your password",isMandatory:!0,type:"password",togglePassword:!0,title:"Password",showBorder:!1}},m={fieldKey:"firstName",attributes:{placeholder:"First Name",isMandatory:!0,title:"First Name",readonly:!0,showBorder:!1}},w={fieldKey:"lastName",attributes:{placeholder:"Last Name",isMandatory:!0,title:"Last Name",readonly:!0,showBorder:!1}},h={fieldKey:"emailId",attributes:{placeholder:"Email Address",isMandatory:!0,title:"Email Address",readonly:!0,showBorder:!1}},y={fieldKey:"tempPassword",attributes:{placeholder:"Temporary Password",isMandatory:!0,type:"password",togglePassword:!0,title:"Temporary Password",showBorder:!1}},P={fieldKey:"newPassword",attributes:{placeholder:"Type your password",isMandatory:!0,type:"password",togglePassword:!0,title:"New Password",showBorder:!1}},C={fieldKey:"confirmNewPassword",attributes:{placeholder:"Confirm your Password",isMandatory:!0,type:"password",togglePassword:!0,title:"Confirm New Password",showBorder:!1}},I=function o(){t(this,o)},v=function o(){t(this,o)},N=function o(){t(this,o)},b=i(41364),M=i(3925),Z=i(45955),T=function(){var o=function(){function o(n,e,i){t(this,o),this.loginService=n,this.router=e,this.toasty=i,this.loginForm=new s.cw({emailId:new s.NI("",s.kI.required),password:new s.NI("",s.kI.required)}),this.loginInputConfig={LoginIdInput:f,LoginPasswordInput:c},this.loginModel=new I,this.loginCredentials=[],this.loginInputConfig.LoginIdInput.attributes.disable=this.isLoading,this.loginInputConfig.LoginPasswordInput.attributes.disable=this.isLoading}return n(o,[{key:"ngOnInit",value:function(){(new g.P).clearAll(),this.setupToasty(),this.loginDetails()}},{key:"setupToasty",value:function(){this.toasty.overlayContainer=this.toastContainer,this.toasty.toastyConfig.preventDuplicates=!0}},{key:"onSubmit",value:function(){var t=this;this.isLoading=!0,this.loginService.login(this.loginModel,this.loginCredentials).subscribe(function(o){o.error?(t.toasty.error(o.message),t.isLoading=!1):(t.toasty.success(o.message),t.router.navigate(["/invoices"]),t.isLoading=!1)})}},{key:"loginDetails",value:function(){var t=this;this.loginService.loginDetails().subscribe(function(o){t.loginCredentials=o})}}]),o}();return o.\u0275fac=function(t){return new(t||o)(l.Y36(b.r),l.Y36(a.F0),l.Y36(p.$))},o.\u0275cmp=l.Xpm({type:o,selectors:[["login"]],viewQuery:function(t,o){var n;(1&t&&l.Gf(d,7),2&t)&&(l.iGM(n=l.CRH())&&(o.toastContainer=n.first))},features:[l._Bn([p.$])],decls:15,vars:9,consts:[[1,"page-title"],[1,"loginForm",3,"formGroup"],["formControlName","emailId",3,"config","dataModel"],["formControlName","password",3,"config","dataModel"],[1,"more-options"],["href","javascript:void",1,"forget-password"],["size","medium",3,"type","loading","disabled","fullWidth","onClick"],["toastContainer","",1,"toasty-layer"]],template:function(t,o){1&t&&(l.ynx(0),l.TgZ(1,"div",0),l.TgZ(2,"h1"),l._uU(3,"Log In"),l.qZA(),l.TgZ(4,"p"),l._uU(5,"Welcome, input your user credentials below."),l.qZA(),l.qZA(),l.TgZ(6,"form",1),l._UZ(7,"vsa-input",2),l._UZ(8,"vsa-input",3),l.TgZ(9,"div",4),l.TgZ(10,"a",5),l._uU(11,"Forget Password?"),l.qZA(),l.qZA(),l.TgZ(12,"vsa-button",6),l.NdJ("onClick",function(){return o.onSubmit()}),l._uU(13,"Confirm "),l.qZA(),l.qZA(),l.BQk(),l._UZ(14,"div",7)),2&t&&(l.xp6(6),l.Q6J("formGroup",o.loginForm),l.xp6(1),l.Q6J("config",null==o.loginInputConfig?null:o.loginInputConfig.LoginIdInput)("dataModel",o.loginModel),l.xp6(1),l.Q6J("config",null==o.loginInputConfig?null:o.loginInputConfig.LoginPasswordInput)("dataModel",o.loginModel),l.xp6(4),l.Q6J("type","submit")("loading",o.isLoading)("disabled",o.loginForm.invalid)("fullWidth","true"))},directives:[s._Y,s.JL,s.sg,M.h,s.JJ,s.u,Z.t,d],styles:['@import url("https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap");@font-face{font-family:Visa;src:url(visaFont.8b0d154f49bceec634ee.woff) format("woff")}@font-face{font-family:Visa_True;src:url(visaFont.15cde0f8f598a0f43234.ttf) format("truetype")}[_ngcontent-%COMP%]:export{conditonalGreen:#b8e0cb;conditonalRed:#fbbdb0}.page-title[_ngcontent-%COMP%]{margin-top:50px}.page-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700;font-size:28px;color:#051226;text-transform:capitalize;line-height:36px;margin-bottom:0}.page-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#394a64;margin:0;font-family:Open Sans,sans-serif}form.loginForm[_ngcontent-%COMP%]{margin-top:3em}form.loginForm[_ngcontent-%COMP%]   .more-options[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-bottom:5px}form.loginForm[_ngcontent-%COMP%]   .more-options[_ngcontent-%COMP%]   a.forget-password[_ngcontent-%COMP%]{text-decoration:none}.toasty-layer[_ngcontent-%COMP%]{position:fixed;top:10px;right:10px}@media (min-width:768px){.toasty-layer[_ngcontent-%COMP%]{width:calc(58.88% - 28px)}}']}),o}(),_=i(68059),x=i(59488),k=i(3269);function q(t,o){if(1&t){var n=l.EpF();l.ynx(0),l.TgZ(1,"div",2),l.TgZ(2,"h1"),l._uU(3,"Confirm Temporary Password"),l.qZA(),l.TgZ(4,"p"),l._uU(5," Thank you for using the invite link! Please enter the information below. "),l.qZA(),l.qZA(),l.TgZ(6,"form",3),l.TgZ(7,"div",4),l.TgZ(8,"div",5),l._UZ(9,"vsa-input",6),l.qZA(),l.TgZ(10,"div",7),l._UZ(11,"vsa-input",8),l.qZA(),l.qZA(),l._UZ(12,"vsa-input",9),l._UZ(13,"vsa-input",10),l.TgZ(14,"vsa-button",11),l.NdJ("onClick",function(){return l.CHM(n),l.oxw().onTemporaryPasswordSubmit()}),l._uU(15,"Confirm "),l.qZA(),l.qZA(),l.BQk()}if(2&t){var e=l.oxw();l.xp6(6),l.Q6J("formGroup",e.tempPasswordForm),l.xp6(3),l.Q6J("config",null==e.loginInputConfig?null:e.loginInputConfig.FirstNameInput)("dataModel",e.cTemporaryPassword),l.xp6(2),l.Q6J("config",null==e.loginInputConfig?null:e.loginInputConfig.LastNameInput)("dataModel",e.cTemporaryPassword),l.xp6(1),l.Q6J("config",null==e.loginInputConfig?null:e.loginInputConfig.EmailIdInput)("dataModel",e.cTemporaryPassword),l.xp6(1),l.Q6J("config",null==e.loginInputConfig?null:e.loginInputConfig.TemporaryPasswordInput)("dataModel",e.cTemporaryPassword),l.xp6(1),l.Q6J("type","submit")("loading",e.isLoading)("disabled",e.tempPasswordForm.invalid)("fullWidth","true")}}function O(t,o){if(1&t){var n=l.EpF();l.ynx(0),l.TgZ(1,"div",2),l.TgZ(2,"h1"),l._uU(3,"Create New Password"),l.qZA(),l.TgZ(4,"p"),l._uU(5," Please enter your new password information below. "),l.qZA(),l.qZA(),l.TgZ(6,"form",3),l.TgZ(7,"div",4),l.TgZ(8,"div",5),l._UZ(9,"vsa-input",6),l.qZA(),l.TgZ(10,"div",7),l._UZ(11,"vsa-input",8),l.qZA(),l.qZA(),l._UZ(12,"vsa-input",9),l._UZ(13,"vsa-input",12),l._UZ(14,"vsa-input",13),l.TgZ(15,"vsa-button",11),l.NdJ("onClick",function(){return l.CHM(n),l.oxw().onSubmit()}),l._uU(16,"Confirm "),l.qZA(),l.qZA(),l.BQk()}if(2&t){var e=l.oxw();l.xp6(6),l.Q6J("formGroup",e.loginForm),l.xp6(3),l.Q6J("config",null==e.loginInputConfig?null:e.loginInputConfig.FirstNameInput)("dataModel",e.cNewPassword),l.xp6(2),l.Q6J("config",null==e.loginInputConfig?null:e.loginInputConfig.LastNameInput)("dataModel",e.cNewPassword),l.xp6(1),l.Q6J("config",null==e.loginInputConfig?null:e.loginInputConfig.EmailIdInput)("dataModel",e.cNewPassword),l.xp6(1),l.Q6J("config",null==e.loginInputConfig?null:e.loginInputConfig.NewPasswordInput)("dataModel",e.cNewPassword),l.xp6(1),l.Q6J("config",null==e.loginInputConfig?null:e.loginInputConfig.ConfirmNewPasswordInput)("dataModel",e.cNewPassword),l.xp6(1),l.Q6J("type","submit")("loading",e.isLoading)("disabled",e.loginForm.invalid)("fullWidth","true")}}var A,F=function(){var o=function(){function o(n,e,i,a){t(this,o),this.loginService=n,this.router=e,this.toasty=i,this.activatedRoute=a,this.loginForm=new s.cw({firstName:new s.NI("",s.kI.required),lastName:new s.NI("",s.kI.required),emailId:new s.NI("",s.kI.required),newPassword:new s.NI("",s.kI.required),confirmNewPassword:new s.NI("",s.kI.required)}),this.tempPasswordForm=new s.cw({firstName:new s.NI("",s.kI.required),lastName:new s.NI("",s.kI.required),emailId:new s.NI("",s.kI.required),tempPassword:new s.NI("",s.kI.required)}),this.loginInputConfig={FirstNameInput:m,LastNameInput:w,EmailIdInput:h,TemporaryPasswordInput:y,NewPasswordInput:P,ConfirmNewPasswordInput:C},this.cNewPassword=new N,this.cTemporaryPassword=new v,this.showCreatePassword=!1,this.tempPassword="Abc123",this.loginInputConfig.FirstNameInput.attributes.disable=!0,this.loginInputConfig.LastNameInput.attributes.disable=!0,this.loginInputConfig.EmailIdInput.attributes.disable=!0,this.cNewPassword.firstName=this.cTemporaryPassword.firstName=a.snapshot.queryParamMap.get("fname")||"Not Found",this.cNewPassword.lastName=this.cTemporaryPassword.lastName=a.snapshot.queryParamMap.get("lname")||"Not Found",this.cNewPassword.emailId=this.cTemporaryPassword.emailId=a.snapshot.queryParamMap.get("email")||"Not Found"}return n(o,[{key:"ngOnInit",value:function(){(new g.P).clearAll(),this.setupToasty()}},{key:"setupToasty",value:function(){this.toasty.overlayContainer=this.toastContainer,this.toasty.toastyConfig.preventDuplicates=!0}},{key:"onTemporaryPasswordSubmit",value:function(){var t=this;console.log(this.cTemporaryPassword),this.isLoading=!0,setTimeout(function(){t.cTemporaryPassword.tempPassword!=t.tempPassword?(t.loginInputConfig.TemporaryPasswordInput.attributes.errorMessage="Error! Check your password and try again.",t.isLoading=!1,t.showCreatePassword=!1):(t.loginInputConfig.TemporaryPasswordInput.attributes.errorMessage="",t.confirmTemporaryPassword(t.cTemporaryPassword),t.isLoading=!1)},1500)}},{key:"onSubmit",value:function(){var t=this;console.log(this.cNewPassword),this.isLoading=!0,setTimeout(function(){t.cNewPassword.newPassword!=t.cNewPassword.confirmNewPassword?(t.loginInputConfig.ConfirmNewPasswordInput.attributes.errorMessage="Confirm Password Doesn't Match.",t.isLoading=!1):(t.loginInputConfig.ConfirmNewPasswordInput.attributes.errorMessage="",t.createNewPassword(t.cNewPassword),t.isLoading=!1)},1500)}},{key:"confirmTemporaryPassword",value:function(t){var o=this;this.loginService.confirmTemporaryPassword(t).subscribe(function(t){t&&(o.toasty.success(t.message),o.showCreatePassword=!0)})}},{key:"createNewPassword",value:function(t){var o=this;this.loginService.createNewPassword(t).subscribe(function(t){t&&(o.toasty.success(t.message),o.router.navigate(["/auth/login"]))})}}]),o}();return o.\u0275fac=function(t){return new(t||o)(l.Y36(b.r),l.Y36(a.F0),l.Y36(p.$),l.Y36(a.gz))},o.\u0275cmp=l.Xpm({type:o,selectors:[["app-create-new-password"]],viewQuery:function(t,o){var n;(1&t&&l.Gf(d,7),2&t)&&(l.iGM(n=l.CRH())&&(o.toastContainer=n.first))},features:[l._Bn([p.$])],decls:3,vars:2,consts:[[4,"ngIf"],["toastContainer","",1,"toasty-layer"],[1,"page-title"],[1,"loginForm",3,"formGroup"],[1,"row"],[1,"col-6","pr5"],["formControlName","firstName",3,"config","dataModel"],[1,"col-6","pl5"],["formControlName","lastName",3,"config","dataModel"],["formControlName","emailId",3,"config","dataModel"],["formControlName","tempPassword",3,"config","dataModel"],["size","medium",3,"type","loading","disabled","fullWidth","onClick"],["formControlName","newPassword",3,"config","dataModel"],["formControlName","confirmNewPassword",3,"config","dataModel"]],template:function(t,o){1&t&&(l.YNc(0,q,16,13,"ng-container",0),l.YNc(1,O,17,15,"ng-container",0),l._UZ(2,"div",1)),2&t&&(l.Q6J("ngIf",!o.showCreatePassword),l.xp6(1),l.Q6J("ngIf",o.showCreatePassword))},directives:[r.O5,d,s._Y,s.JL,s.sg,M.h,s.JJ,s.u,Z.t],styles:['@import url("https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap");@font-face{font-family:Visa;src:url(visaFont.8b0d154f49bceec634ee.woff) format("woff")}@font-face{font-family:Visa_True;src:url(visaFont.15cde0f8f598a0f43234.ttf) format("truetype")}[_ngcontent-%COMP%]:export{conditonalGreen:#b8e0cb;conditonalRed:#fbbdb0}.page-title[_ngcontent-%COMP%]{margin-top:50px}.page-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700;font-size:28px;color:#051226;text-transform:capitalize;line-height:36px}.page-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#394a64;margin:0;font-family:Open Sans,sans-serif}.pr5[_ngcontent-%COMP%]{padding-right:5px!important}.pl5[_ngcontent-%COMP%]{padding-left:5px!important}form.loginForm[_ngcontent-%COMP%]{margin-top:3em}form.loginForm[_ngcontent-%COMP%]   .more-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}form.loginForm[_ngcontent-%COMP%]   .more-options[_ngcontent-%COMP%]   a.forget-password[_ngcontent-%COMP%]{text-decoration:none}.toasty-layer[_ngcontent-%COMP%]{position:fixed;top:10px;right:10px}@media (min-width:768px){.toasty-layer[_ngcontent-%COMP%]{width:calc(58.88% - 28px)}}']}),o}(),J=i(34796),L=((A=function o(){t(this,o)}).\u0275fac=function(t){return new(t||A)},A.\u0275mod=l.oAB({type:A}),A.\u0275inj=l.cJS({providers:[b.r],imports:[[s.u5,s.UX,r.ez,k.C,x.e,J.I,_.V2.forRoot(),u,a.Bz.forChild([{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"login",component:T},{path:"confirm-temporary-password",redirectTo:"/auth/create-new-password",component:F},{path:"create-new-password",component:F}])]]}),A)}}])}();